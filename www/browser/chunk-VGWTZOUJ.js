import{a as Q}from"./chunk-FCVZ7W6T.js";import{a as U,b as J,c as K}from"./chunk-CNGJ4UW6.js";import{j as Y}from"./chunk-26UHM24F.js";import{a as q}from"./chunk-UJDEHUIQ.js";import{b as j}from"./chunk-TUA2I5ZM.js";import"./chunk-2I42IO6W.js";import{$ as H,A as o,D as V,I as N,J as g,K as _,L as F,M as z,N as O,O as P,P as S,Q as d,R as s,S as M,T as r,U as l,V as f,W as E,X as v,Y as G,Z as p,_ as B,aa as c,ba as w,ca as C,ia as I,ma as D,n as R,o as k,p as b,q as h,r as T,s as L,ta as $,u as x}from"./chunk-WGFYM5RO.js";import"./chunk-2NFLSA4Y.js";function te(i,n){i&1&&(h(),r(0,"svg",4),f(1,"path",30),l())}function ne(i,n){i&1&&(h(),r(0,"svg",5),f(1,"path",31)(2,"path",32)(3,"path",33),l())}function ie(i,n){i&1&&(h(),r(0,"svg",6),f(1,"path",34),l())}function oe(i,n){if(i&1&&(h(),r(0,"svg",35),f(1,"path",36),l(),T(),r(2,"span",37),c(3),l()),i&2){let e=p();o(3),w(e.room.taskType)}}function ae(i,n){if(i&1&&(h(),r(0,"svg",38),f(1,"path",39),l(),T(),r(2,"span"),c(3),l()),i&2){let e=p();o(3),w(e.room.taskType)}}function re(i,n){if(i&1&&(h(),r(0,"svg",40),f(1,"path",41),l(),T(),r(2,"span"),c(3),l()),i&2){let e=p();o(3),w(e.room.taskType)}}function se(i,n){if(i&1&&(r(0,"span",16),h(),r(1,"svg",42),f(2,"path",30),l(),c(3),l()),i&2){let e=p();o(3),C(" Started at ",e.room.startedAt," ")}}function le(i,n){if(i&1&&(r(0,"span",17),h(),r(1,"svg",20),f(2,"rect",43)(3,"path",44),l(),c(4),l()),i&2){let e=p();o(4),C(" ",e.room.linen," ")}}function de(i,n){i&1&&(r(0,"span",17),h(),r(1,"svg",45),f(2,"rect",46)(3,"path",47),l()())}function ce(i,n){i&1&&(h(),r(0,"svg",25),f(1,"circle",48)(2,"path",49),l())}function pe(i,n){i&1&&(h(),r(0,"svg",25),f(1,"circle",50)(2,"path",51),l())}function me(i,n){if(i&1&&(r(0,"span",28),h(),r(1,"svg",52),f(2,"path",53),l(),c(3),l()),i&2){let e=p();o(3),C(" ",e.room.assigneeExtra," ")}}var A=class i{room;cardClicked=new L;onCardClick(){this.cardClicked.emit(this.room.id)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-room-card"]],inputs:{room:"room"},outputs:{cardClicked:"cardClicked"},decls:45,vars:32,consts:[["role","button","tabindex","0",1,"room-card",3,"click","keydown.enter","keydown.space"],[1,"room-card__top"],[1,"room-card__name"],[1,"action-btn"],["width","22","height","22","viewBox","0 0 24 24","fill","white"],["width","22","height","22","viewBox","0 0 24 24","fill","none","stroke","white","stroke-width","1.8","stroke-linecap","round"],["width","22","height","22","viewBox","0 0 24 24","fill","none","stroke","white","stroke-width","2.2","stroke-linecap","round","stroke-linejoin","round"],[1,"room-card__guest"],["width","14","height","14","viewBox","0 0 24 24","fill","none"],["x","3","y","3","width","18","height","18","rx","3","stroke","#1d4ed8","stroke-width","1.8"],["d","M8 12h8M12 8v8","stroke","#1d4ed8","stroke-width","1.8","stroke-linecap","round"],[1,"room-card__guest-name"],[1,"room-card__badges"],[1,"badge","badge--status"],[1,"dot"],[1,"badge","badge--task"],[1,"badge","badge--started"],[1,"badge"],["width","13","height","13","viewBox","0 0 24 24","fill","#f59e0b"],["d","M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"],["width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","#374151","stroke-width","1.8"],["d","M12 8v4l3 3","stroke-linecap","round"],["d","M3.05 12a9 9 0 1017.9 0A9 9 0 003.05 12z"],[1,"room-card__divider"],[1,"room-card__assignee"],["width","18","height","18","viewBox","0 0 24 24","fill","none"],[1,"room-card__assignee-info"],[1,"room-card__assignee-name"],[1,"room-card__crown"],[1,"room-card__date"],["d","M8 5l11 7-11 7V5z"],["d","M3 22l7-7"],["d","M10 15l6-9 2 2-7 8"],["d","M16 6l2-3 3 3-3 1-2-1z"],["d","M5 13l4 4L19 7"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","#dc2626","stroke-width","1.8","stroke-linecap","round"],["d","M13 2L3 14h9l-1 8 10-12h-9l1-8z"],[2,"color","#dc2626"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","#374151","stroke-width","1.8","stroke-linecap","round"],["d","M5 12h14M12 5l7 7-7 7"],["width","14","height","14","viewBox","0 0 24 24","fill","none","stroke","#374151","stroke-width","1.8"],["d","M3 9l9-7 9 7v9a2 2 0 01-2 2H5a2 2 0 01-2-2z","stroke-linecap","round","stroke-linejoin","round"],["width","13","height","13","viewBox","0 0 24 24","fill","#16a34a"],["x","3","y","5","width","18","height","14","rx","2","stroke-linejoin","round"],["d","M3 10h18","stroke-linecap","round"],["width","13","height","13","viewBox","0 0 24 24","fill","none","stroke","#374151","stroke-width","1.8","stroke-linejoin","round"],["x","9","y","9","width","11","height","11","rx","2"],["d","M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1","stroke-linecap","round"],["cx","12","cy","12","r","9.5","stroke","#dc2626","stroke-width","1.8"],["d","M6 6l12 12","stroke","#dc2626","stroke-width","2","stroke-linecap","round"],["cx","12","cy","12","r","9.5","stroke","#16a34a","stroke-width","1.8"],["d","M7 13l3 3 7-7","stroke","#16a34a","stroke-width","2","stroke-linecap","round","stroke-linejoin","round"],["width","12","height","12","viewBox","0 0 24 24","fill","#f59e0b"],["d","M3 17l3-8 6 5 6-5 3 8H3z"]],template:function(e,t){e&1&&(r(0,"div",0),G("click",function(){return t.onCardClick()})("keydown.enter",function(){return t.onCardClick()})("keydown.space",function(){return t.onCardClick()}),r(1,"div",1)(2,"span",2),c(3),l(),r(4,"button",3),g(5,te,2,0,":svg:svg",4),g(6,ne,4,0,":svg:svg",5),g(7,ie,2,0,":svg:svg",6),l()(),r(8,"div",7),h(),r(9,"svg",8),f(10,"rect",9)(11,"path",10),l(),T(),r(12,"span",11),c(13),l()(),r(14,"div",12)(15,"span",13),f(16,"span",14),c(17),l(),r(18,"span",15),g(19,oe,4,1),g(20,ae,4,1),g(21,re,4,1),l(),g(22,se,4,1,"span",16),l(),r(23,"div",12),g(24,le,5,1,"span",17),r(25,"span",17),h(),r(26,"svg",18),f(27,"path",19),l(),c(28),l(),T(),r(29,"span",17),h(),r(30,"svg",20),f(31,"path",21)(32,"path",22),l(),c(33),l(),g(34,de,4,0,"span",17),l(),T(),f(35,"hr",23),r(36,"div",24),g(37,ce,3,0,":svg:svg",25),g(38,pe,3,0,":svg:svg",25),r(39,"div",26)(40,"span",27),c(41),g(42,me,4,1,"span",28),l(),r(43,"span",29),c(44),l()()()()),e&2&&(o(3),w(t.room.roomName),o(),H("action-btn--start",t.room.actionState==="start")("action-btn--progress",t.room.actionState==="in-progress")("action-btn--done",t.room.actionState==="done"),N("aria-label",t.room.actionState),o(),_(t.room.actionState==="start"?5:-1),o(),_(t.room.actionState==="in-progress"?6:-1),o(),_(t.room.actionState==="done"?7:-1),o(6),w(t.room.guestName),o(3),H("dot--red",t.room.status==="Dirty")("dot--green",t.room.status==="Clean")("dot--blue",t.room.status==="Inspected"),o(),C(" ",t.room.status," "),o(2),_(t.room.taskIcon==="rush"?19:-1),o(),_(t.room.taskIcon==="departure"?20:-1),o(),_(t.room.taskIcon==="stayover"?21:-1),o(),_(t.room.startedAt?22:-1),o(2),_(t.room.linen?24:-1),o(4),C(" ",t.room.points," points "),o(5),C(" ",t.room.minutes," min "),o(),_(t.room.hasCopy?34:-1),o(3),_(t.room.assigneeIcon==="blocked"?37:-1),o(),_(t.room.assigneeIcon==="check"?38:-1),o(3),C(" ",t.room.assignee," "),o(),_(t.room.assigneeExtra?42:-1),o(2),w(t.room.dateRange))},dependencies:[D],styles:["[_nghost-%COMP%]{display:block}.room-card[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:14px 14px 10px;box-shadow:0 1px 4px #00000012;cursor:pointer;transition:transform .12s ease,box-shadow .12s ease}.room-card[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 6px 14px #0000001f}.room-card[_ngcontent-%COMP%]:active{transform:scale(.995)}.room-card__top[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:4px}.room-card__name[_ngcontent-%COMP%]{font-size:var(--font-size-lg);font-weight:var(--font-weight-bold);color:#111827}.action-btn[_ngcontent-%COMP%]{width:44px;height:44px;border-radius:50%;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;flex-shrink:0}.action-btn--start[_ngcontent-%COMP%]{background:#16a34a}.action-btn--progress[_ngcontent-%COMP%]{background:#1e3a5f}.action-btn--done[_ngcontent-%COMP%]{background:#6b7280}.room-card__guest[_ngcontent-%COMP%]{display:flex;align-items:center;gap:5px;margin-bottom:8px}.room-card__guest-name[_ngcontent-%COMP%]{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:#1d4ed8}.room-card__badges[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center;gap:8px;margin-bottom:4px}.badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:4px;font-size:var(--font-size-sm);color:#374151;font-weight:var(--font-weight-medium)}.badge--started[_ngcontent-%COMP%]{color:#16a34a}.dot[_ngcontent-%COMP%]{width:8px;height:8px;border-radius:50%;display:inline-block;flex-shrink:0}.dot--red[_ngcontent-%COMP%]{background:#dc2626}.dot--green[_ngcontent-%COMP%]{background:#16a34a}.dot--blue[_ngcontent-%COMP%]{background:#2563eb}.room-card__divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #f3f4f6;margin:10px 0 8px}.room-card__assignee[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:8px}.room-card__assignee-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2px}.room-card__assignee-name[_ngcontent-%COMP%]{font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:#111827;display:flex;align-items:center;gap:5px}.room-card__crown[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:2px;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:#374151}.room-card__date[_ngcontent-%COMP%]{font-size:var(--font-size-sm);color:#6b7280}"],changeDetection:0})};var X=(i,n)=>n.value,ge=(i,n)=>n.id;function _e(i,n){if(i&1){let e=E();d(0,"label",17)(1,"input",20),v("change",function(){let a=k(e).$implicit,m=p(2);return b(m.toggleStatus(a))}),s(),M(2,"span",21),c(3),s()}if(i&2){let e=n.$implicit,t=p(2);o(),S("checked",t.selectedStatuses().includes(e)),o(),H("dot-dirty",e==="Dirty")("dot-clean",e==="Clean")("dot-inspected",e==="Inspected"),o(),C(" ",e," ")}}function ue(i,n){if(i&1){let e=E();d(0,"label",17)(1,"input",20),v("change",function(){let a=k(e).$implicit,m=p(2);return b(m.toggleTask(a))}),s(),c(2),s()}if(i&2){let e=n.$implicit,t=p(2);o(),S("checked",t.selectedTasks().includes(e)),o(),C(" ",e," ")}}function he(i,n){if(i&1){let e=E();d(0,"label",17)(1,"input",20),v("change",function(){let a=k(e).$implicit,m=p(2);return b(m.toggleAction(a.value))}),s(),c(2),s()}if(i&2){let e=n.$implicit,t=p(2);o(),S("checked",t.selectedActions().includes(e.value)),o(),C(" ",e.label," ")}}function fe(i,n){if(i&1){let e=E();d(0,"div",10),v("click",function(){k(e);let a=p();return b(a.filterPanelOpen.set(!1))}),s(),d(1,"div",11)(2,"div",12)(3,"span",13),c(4,"Filters"),s(),d(5,"button",14),v("click",function(){k(e);let a=p();return b(a.clearFilters())}),c(6,"Clear All"),s()(),d(7,"div",15)(8,"div",16),c(9,"Status"),s(),O(10,_e,4,8,"label",17,z),s(),M(12,"hr",18),d(13,"div",15)(14,"div",16),c(15,"Task Type"),s(),O(16,ue,3,2,"label",17,z),s(),M(18,"hr",18),d(19,"div",15)(20,"div",16),c(21,"Action State"),s(),O(22,he,3,2,"label",17,X),s(),d(24,"button",19),v("click",function(){k(e);let a=p();return b(a.filterPanelOpen.set(!1))}),c(25,"Apply"),s()()}if(i&2){let e=p();o(10),P(e.statusOptions),o(6),P(e.taskOptions),o(6),P(e.actionOptions)}}function ve(i,n){i&1&&(h(),d(0,"svg",25),M(1,"path",27),s())}function xe(i,n){i&1&&M(0,"hr",26)}function Ce(i,n){if(i&1){let e=E();d(0,"button",24),v("click",function(){let a=k(e).$implicit,m=p(2);return b(m.applySort(a.value))}),d(1,"span"),c(2),s(),g(3,ve,2,0,":svg:svg",25),s(),g(4,xe,1,0,"hr",26)}if(i&2){let e=n.$implicit,t=n.$index,a=n.$count,m=p(2);H("sort-panel__item--active",m.selectedSort()===e.value),o(2),w(e.label),o(),_(m.selectedSort()===e.value?3:-1),o(),_(t!==a-1?4:-1)}}function ke(i,n){if(i&1){let e=E();d(0,"div",10),v("click",function(){k(e);let a=p();return b(a.sortPanelOpen.set(!1))}),s(),d(1,"div",22)(2,"div",23),c(3,"Sort By"),s(),O(4,Ce,5,5,null,null,X),s()}if(i&2){let e=p();o(4),P(e.sortOptions)}}function be(i,n){i&1&&(d(0,"div",30),M(1,"div",31)(2,"div",32)(3,"div",33)(4,"div",32),s())}function Ee(i,n){if(i&1&&(d(0,"div",28),c(1,"Loading rooms\u2026"),s(),d(2,"div",29),O(3,be,5,0,"div",30,F),s()),i&2){let e=p();o(3),P(e.skeletonRows)}}function we(i,n){if(i&1){let e=E();d(0,"app-room-card",35),v("cardClicked",function(a){k(e);let m=p(2);return b(m.openDetail(a))}),s()}if(i&2){let e=n.$implicit;S("room",e)}}function Se(i,n){if(i&1&&(d(0,"div",5),O(1,we,1,1,"app-room-card",34,ge),s()),i&2){let e=p();o(),P(e.filteredRooms())}}function Me(i,n){if(i&1){let e=E();d(0,"app-quick-actions-sheet",36),v("closed",function(){k(e);let a=p();return b(a.fabSheetOpen.set(!1))}),s()}if(i&2){let e=p();S("items",e.fabActions)}}var W=class i{authService=R(j);hkService=R(Q);router=R($);profileSvc=R(q);fabSheetOpen=x(!1);fabActions=[{title:"Add Room Task",subtitle:"Create a cleaning job manually."},{title:"Reassign Attendant",subtitle:"Move tasks between attendants."},{title:"Request Inspection",subtitle:"Mark a room ready for supervisor."}];rooms=x([]);loading=x(!0);refreshing=x(!1);pullDistance=x(0);pullThreshold=64;skeletonRows=[1,2,3];pullStartY=0;selectedRole=x("Supervisor");roles=["Attendant","Supervisor","Productivity"];onRoleChanged(n){this.selectedRole.set(n)}searchQuery=x("");filterPanelOpen=x(!1);statusOptions=["Dirty","Clean","Inspected"];taskOptions=["Room Rush","Departure Clean","Stay Over"];actionOptions=[{value:"start",label:"Not Started"},{value:"in-progress",label:"In Progress"},{value:"done",label:"Done"}];selectedStatuses=x([]);selectedTasks=x([]);selectedActions=x([]);activeFilterCount=I(()=>this.selectedStatuses().length+this.selectedTasks().length+this.selectedActions().length);sortPanelOpen=x(!1);selectedSort=x("none");sortOptions=[{value:"points-desc",label:"Priority: High \u2192 Low (Points)"},{value:"points-asc",label:"Priority: Low \u2192 High (Points)"},{value:"minutes-asc",label:"Quickest First (Minutes)"},{value:"minutes-desc",label:"Longest First (Minutes)"},{value:"none",label:"Default Order"}];sortLabel=I(()=>this.sortOptions.find(n=>n.value===this.selectedSort())?.label??"Sort");filteredRooms=I(()=>{let n=[...this.rooms()],e=this.searchQuery().trim().toLowerCase();e&&(n=n.filter(u=>u.roomName.toLowerCase().includes(e)||u.guestName.toLowerCase().includes(e)||u.taskType.toLowerCase().includes(e)||u.assignee.toLowerCase().includes(e)||u.status.toLowerCase().includes(e)));let t=this.selectedStatuses();t.length&&(n=n.filter(u=>t.includes(u.status)));let a=this.selectedTasks();a.length&&(n=n.filter(u=>a.includes(u.taskType)));let m=this.selectedActions();switch(m.length&&(n=n.filter(u=>m.includes(u.actionState))),this.selectedSort()){case"points-desc":n.sort((u,y)=>y.points-u.points);break;case"points-asc":n.sort((u,y)=>u.points-y.points);break;case"minutes-asc":n.sort((u,y)=>u.minutes-y.minutes);break;case"minutes-desc":n.sort((u,y)=>y.minutes-u.minutes);break}return n});toggleStatus(n){this.selectedStatuses.update(e=>e.includes(n)?e.filter(t=>t!==n):[...e,n])}toggleTask(n){this.selectedTasks.update(e=>e.includes(n)?e.filter(t=>t!==n):[...e,n])}toggleAction(n){this.selectedActions.update(e=>e.includes(n)?e.filter(t=>t!==n):[...e,n])}clearFilters(){this.selectedStatuses.set([]),this.selectedTasks.set([]),this.selectedActions.set([])}openDetail(n){this.router.navigate(["/shell/housekeeping",n])}applySort(n){this.selectedSort.set(n),this.sortPanelOpen.set(!1)}ngOnInit(){this.fetchRooms(!0)}fetchRooms(n=!1){n&&this.loading.set(!0),this.hkService.getRooms().subscribe({next:e=>{this.rooms.set(e),n&&this.loading.set(!1),this.refreshing()&&setTimeout(()=>this.refreshing.set(!1),350)},error:()=>{this.loading.set(!1),this.refreshing.set(!1)}})}onTouchStart(n){if(this.isOverlayGesture(n)){this.pullStartY=0;return}let e=this.getScroller();if(!e||e.scrollTop>0||this.loading()||this.refreshing()){this.pullStartY=0;return}this.pullStartY=n.touches[0]?.clientY??0}onTouchMove(n){if(!this.pullStartY||this.isOverlayGesture(n))return;let e=this.getScroller();if(!e||e.scrollTop>0)return;let a=(n.touches[0]?.clientY??this.pullStartY)-this.pullStartY;a<=0||(this.pullDistance.set(Math.min(90,a*.45)),n.preventDefault())}onTouchEnd(){this.pullDistance()>=this.pullThreshold&&!this.refreshing()&&(this.refreshing.set(!0),this.fetchRooms(!1)),this.pullDistance.set(0),this.pullStartY=0}getScroller(){return document.querySelector(".shell__content")}isOverlayGesture(n){let e=n.target;return e?!!e.closest(".qa-sheet, .sheet, .filter-panel, .sort-panel, .panel-backdrop, .qa-backdrop, .backdrop, app-page-header, app-page-toolbar"):!1}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=V({type:i,selectors:[["app-housekeeping"]],decls:15,vars:20,consts:[[1,"hk",3,"touchstart","touchmove","touchend","touchcancel"],["title","Cleaning - All Rooms",3,"roleChanged","avatarClicked","rolePillLabel","roleOptions","showHelpIcon","showTitleChevron","avatarInitials","showAvatar"],[3,"searchChanged","filterClicked","sortClicked","filterCount","sortActive","sortLabel"],[1,"pull-refresh"],[1,"hk__count"],[1,"hk__list"],["aria-label","Open quick actions",1,"fab",3,"click"],["width","22","height","22","viewBox","0 0 24 24","fill","none"],["d","M12 5v14M5 12h14","stroke","currentColor","stroke-width","2.2","stroke-linecap","round"],["title","Housekeeping Actions","subtitle","Create and manage room operations quickly.",3,"items"],[1,"panel-backdrop",3,"click"],[1,"filter-panel"],[1,"filter-panel__header"],[1,"filter-panel__title"],[1,"filter-panel__clear",3,"click"],[1,"filter-section"],[1,"filter-section__label"],[1,"filter-option"],[1,"filter-divider"],[1,"filter-panel__apply",3,"click"],["type","checkbox",3,"change","checked"],[1,"filter-option__dot"],[1,"sort-panel"],[1,"sort-panel__header"],[1,"sort-panel__item",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none"],[1,"sort-panel__divider"],["d","M5 13l4 4L19 7","stroke","#1d4ed8","stroke-width","2.2","stroke-linecap","round","stroke-linejoin","round"],[1,"hk__loading"],[1,"hk__skeleton-list"],[1,"hk__skeleton-card"],[1,"sk","sk--title"],[1,"sk","sk--line"],[1,"sk","sk--line","short"],[3,"room"],[3,"cardClicked","room"],["title","Housekeeping Actions","subtitle","Create and manage room operations quickly.",3,"closed","items"]],template:function(e,t){e&1&&(d(0,"div",0),v("touchstart",function(m){return t.onTouchStart(m)})("touchmove",function(m){return t.onTouchMove(m)})("touchend",function(){return t.onTouchEnd()})("touchcancel",function(){return t.onTouchEnd()}),d(1,"app-page-header",1),v("roleChanged",function(m){return t.onRoleChanged(m)})("avatarClicked",function(){return t.profileSvc.open()}),s(),d(2,"app-page-toolbar",2),v("searchChanged",function(m){return t.searchQuery.set(m)})("filterClicked",function(){return t.filterPanelOpen.set(!0)})("sortClicked",function(){return t.sortPanelOpen.set(!0)}),s(),d(3,"div",3),c(4),s(),g(5,fe,26,0),g(6,ke,6,0),d(7,"div",4),c(8),s(),g(9,Ee,5,0),g(10,Se,3,0,"div",5),d(11,"button",6),v("click",function(){return t.fabSheetOpen.set(!0)}),h(),d(12,"svg",7),M(13,"path",8),s()(),g(14,Me,1,1,"app-quick-actions-sheet",9),s()),e&2&&(o(),S("rolePillLabel",t.selectedRole())("roleOptions",t.roles)("showHelpIcon",!1)("showTitleChevron",!0)("avatarInitials",t.authService.userInitials())("showAvatar",!0),o(),S("filterCount",t.activeFilterCount())("sortActive",t.selectedSort()!=="none")("sortLabel",t.selectedSort()==="none"?"Sort by Priority":t.sortLabel()),o(),B("height",t.refreshing()?t.pullThreshold:t.pullDistance(),"px"),H("pull-refresh--ready",t.pullDistance()>=t.pullThreshold||t.refreshing()),o(),C(" ",t.refreshing()?"Refreshing rooms\u2026":t.pullDistance()>=t.pullThreshold?"Release to refresh":"Pull to refresh"," "),o(),_(t.filterPanelOpen()?5:-1),o(),_(t.sortPanelOpen()?6:-1),o(2),C("",t.filteredRooms().length," rooms"),o(),_(t.loading()||t.refreshing()?9:-1),o(),_(!t.loading()&&!t.refreshing()?10:-1),o(4),_(t.fabSheetOpen()?14:-1))},dependencies:[D,Y,U,J,A,K],styles:['@charset "UTF-8";.hk[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100%;background:var(--app-bg);font-family:inherit;position:relative;padding-bottom:calc(88px + env(safe-area-inset-bottom,0px))}.pull-refresh[_ngcontent-%COMP%]{height:0;overflow:hidden;display:flex;align-items:center;justify-content:center;font-size:var(--font-size-sm);font-weight:var(--font-weight-medium);color:var(--app-text-muted);transition:height .16s ease;background:color-mix(in srgb,var(--app-primary) 8%,var(--app-bg))}.pull-refresh--ready[_ngcontent-%COMP%]{color:var(--app-primary)}.hk__count[_ngcontent-%COMP%]{padding:10px 16px 6px;font-size:var(--font-size-lg);font-weight:var(--font-weight-semibold);color:var(--app-text-muted)}.hk__loading[_ngcontent-%COMP%]{padding:32px 16px;text-align:center;font-size:var(--font-size-md);color:#9ca3af}.hk__skeleton-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;padding:4px 12px 12px}.hk__skeleton-card[_ngcontent-%COMP%]{background:var(--app-surface);border-radius:12px;padding:14px;box-shadow:0 1px 4px #00000012;display:flex;flex-direction:column;gap:8px}.sk[_ngcontent-%COMP%]{border-radius:8px;background:linear-gradient(90deg,#e5e7eb 25%,#f3f4f6 37%,#e5e7eb 63%);background-size:400% 100%;animation:_ngcontent-%COMP%_shimmer 1.2s linear infinite;height:14px}.sk--title[_ngcontent-%COMP%]{height:24px;width:48%}.sk--line[_ngcontent-%COMP%]{width:100%}.sk--line.short[_ngcontent-%COMP%]{width:72%}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:100% 0}to{background-position:-100% 0}}.hk__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;padding:4px 12px 12px}.fab[_ngcontent-%COMP%]{position:fixed;bottom:calc(76px + env(safe-area-inset-bottom,0px));right:20px;width:52px;height:52px;border-radius:50%;background:linear-gradient(145deg,#2563eb,#1d4ed8);border:1px solid rgba(255,255,255,.35);cursor:pointer;display:flex;align-items:center;justify-content:center;color:#fff;box-shadow:0 10px 24px #2563eb59;transition:transform .14s ease,box-shadow .14s ease;-webkit-tap-highlight-color:transparent}.fab[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 12px 30px #2563eb6b}.fab[_ngcontent-%COMP%]:active{transform:scale(.96)}.panel-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:210}.filter-panel[_ngcontent-%COMP%]{position:fixed;bottom:calc(64px + env(safe-area-inset-bottom,0px));left:0;right:0;background:#fff;border-radius:20px 20px 0 0;box-shadow:0 -4px 24px #00000026;z-index:211;padding:20px 20px calc(24px + env(safe-area-inset-bottom,0px));max-height:80vh;overflow-y:auto}.filter-panel__header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}.filter-panel__title[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#111827}.filter-panel__clear[_ngcontent-%COMP%]{background:none;border:none;font-size:14px;color:#dc2626;font-weight:600;cursor:pointer;font-family:inherit;padding:4px 0}.filter-section[_ngcontent-%COMP%]{margin-bottom:4px}.filter-section__label[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.05em;margin-bottom:10px}.filter-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;padding:11px 0;font-size:15px;color:#111827;font-weight:400;cursor:pointer;font-family:inherit}.filter-option[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px;accent-color:#1d4ed8;cursor:pointer;flex-shrink:0}.filter-option__dot[_ngcontent-%COMP%]{width:9px;height:9px;border-radius:50%;flex-shrink:0}.dot-dirty[_ngcontent-%COMP%]{background:#dc2626}.dot-clean[_ngcontent-%COMP%]{background:#16a34a}.dot-inspected[_ngcontent-%COMP%]{background:#2563eb}.filter-divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #f3f4f6;margin:10px 0 16px}.filter-panel__apply[_ngcontent-%COMP%]{width:100%;margin-top:20px;padding:15px;background:#1d4ed8;color:#fff;border:none;border-radius:10px;font-size:16px;font-weight:600;cursor:pointer;font-family:inherit}.sort-panel[_ngcontent-%COMP%]{position:fixed;bottom:calc(64px + env(safe-area-inset-bottom,0px));left:0;right:0;background:#fff;border-radius:20px 20px 0 0;box-shadow:0 -4px 24px #00000026;z-index:211;padding:20px 0 24px}.sort-panel__header[_ngcontent-%COMP%]{font-size:18px;font-weight:700;color:#111827;padding:0 20px 16px}.sort-panel__item[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;width:100%;padding:16px 20px;background:none;border:none;font-size:15px;color:#111827;font-family:inherit;cursor:pointer;text-align:left;font-weight:400}.sort-panel__item--active[_ngcontent-%COMP%]{font-weight:600;color:#1d4ed8}.sort-panel__item[_ngcontent-%COMP%]:active{background:#f3f4f6}.sort-panel__divider[_ngcontent-%COMP%]{border:none;border-top:1px solid #f3f4f6;margin:0}'],changeDetection:0})};export{W as Housekeeping};
