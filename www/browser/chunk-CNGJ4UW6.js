import{a as F,c as N,e as B,j as R}from"./chunk-26UHM24F.js";import{$ as k,A as r,D as M,J as c,K as d,M as q,N as V,O as D,Q as h,R as u,S as O,T as l,U as s,V as S,W as C,X as v,Y as w,Z as a,_ as H,aa as p,ba as y,ca as P,da as A,ea as L,fa as Q,ma as I,o as _,p as m,q as f,r as z,s as x,u as b,w as T,z as E}from"./chunk-WGFYM5RO.js";function J(t,n){if(t&1&&(f(),l(0,"svg",10),S(1,"path",11),s()),t&2){let e=a(2);H("transform",e.roleDropdownOpen()?"rotate(180deg)":"rotate(0deg)")}}function U(t,n){t&1&&S(0,"hr",16)}function K(t,n){if(t&1){let e=C();l(0,"button",15),w("click",function(){let i=_(e).$implicit,g=a(3);return m(g.selectRole(i))}),p(1),s(),c(2,U,1,0,"hr",16)}if(t&2){let e=n.$implicit,o=n.$index,i=n.$count,g=a(3);k("ph__role-dropdown-item--active",e===g.selectedRole()),r(),P(" ",e," "),r(),d(o!==i-1?2:-1)}}function X(t,n){if(t&1){let e=C();l(0,"div",12),w("click",function(){_(e);let i=a(2);return m(i.roleDropdownOpen.set(!1))}),s(),l(1,"div",13),w("click",function(){_(e);let i=a(2);return m(i.roleDropdownOpen.set(!1))}),s(),l(2,"div",14),V(3,K,3,4,null,null,q),s()}if(t&2){let e=a(2);r(3),D(e.roleOptions)}}function Z(t,n){if(t&1){let e=C();l(0,"button",8),w("click",function(){_(e);let i=a();return m(i.roleOptions.length?i.roleDropdownOpen.set(!i.roleDropdownOpen()):null)}),p(1),c(2,J,2,2,":svg:svg",9),s(),c(3,X,5,0)}if(t&2){let e=a();r(),P(" ",e.selectedRole()," "),r(),d(e.roleOptions.length?2:-1),r(),d(e.roleDropdownOpen()&&e.roleOptions.length?3:-1)}}function ee(t,n){t&1&&(l(0,"button",3),f(),l(1,"svg",17),S(2,"circle",18)(3,"path",19)(4,"path",20),s()())}function te(t,n){if(t&1){let e=C();l(0,"div",21),w("click",function(){_(e);let i=a();return m(i.avatarClicked.emit())}),p(1),s()}if(t&2){let e=a();r(),P(" ",e.avatarInitials," ")}}function ne(t,n){t&1&&(f(),l(0,"svg",7),S(1,"path",11),s())}var G=class t{showRolePill=!0;showHelpIcon=!0;showAvatar=!0;showTitleChevron=!0;title="";avatarInitials="JW";rolePillLabel="Supervisor";roleOptions=[];roleChanged=new x;avatarClicked=new x;roleDropdownOpen=b(!1);selectedRole=b("");ngOnInit(){this.selectedRole.set(this.rolePillLabel)}ngOnChanges(n){n.rolePillLabel&&!this.roleDropdownOpen()&&this.selectedRole.set(this.rolePillLabel)}selectRole(n){this.selectedRole.set(n),this.roleDropdownOpen.set(!1),this.roleChanged.emit(n)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=M({type:t,selectors:[["app-page-header"]],inputs:{showRolePill:"showRolePill",showHelpIcon:"showHelpIcon",showAvatar:"showAvatar",showTitleChevron:"showTitleChevron",title:"title",avatarInitials:"avatarInitials",rolePillLabel:"rolePillLabel",roleOptions:"roleOptions"},outputs:{roleChanged:"roleChanged",avatarClicked:"avatarClicked"},features:[T],decls:10,vars:5,consts:[[1,"ph"],[1,"ph__role-row"],[1,"ph__actions"],["aria-label","Help",1,"ph__icon-btn"],["role","button","aria-label","Open profile","tabindex","0",1,"ph__avatar"],[1,"ph__title-row"],[1,"ph__title"],["width","18","height","18","viewBox","0 0 24 24","fill","none"],[1,"ph__role-pill",3,"click"],["width","14","height","14","viewBox","0 0 24 24","fill","none",1,"ph__role-chevron",2,"transition","transform 0.2s",3,"transform"],["width","14","height","14","viewBox","0 0 24 24","fill","none",1,"ph__role-chevron",2,"transition","transform 0.2s"],["d","M6 9l6 6 6-6","stroke","currentColor","stroke-width","2.2","stroke-linecap","round","stroke-linejoin","round"],[1,"ph__role-backdrop",3,"click"],[1,"ph__role-faded-bg",3,"click"],[1,"ph__role-dropdown"],[1,"ph__role-dropdown-item",3,"click"],[1,"ph__role-dropdown-divider"],["width","22","height","22","viewBox","0 0 24 24","fill","none"],["cx","12","cy","12","r","9.5","stroke","currentColor","stroke-width","1.8"],["d","M12 17v-1","stroke","currentColor","stroke-width","2.2","stroke-linecap","round"],["d","M9.5 9.5a2.5 2.5 0 015 .5c0 1.5-2.5 2-2.5 3.5","stroke","currentColor","stroke-width","1.8","stroke-linecap","round"],["role","button","aria-label","Open profile","tabindex","0",1,"ph__avatar",3,"click"]],template:function(e,o){e&1&&(l(0,"header",0)(1,"div",1),c(2,Z,4,3),l(3,"div",2),c(4,ee,5,0,"button",3),c(5,te,2,1,"div",4),s()(),l(6,"div",5)(7,"h1",6),p(8),c(9,ne,2,0,":svg:svg",7),s()()()),e&2&&(r(2),d(o.showRolePill?2:-1),r(2),d(o.showHelpIcon?4:-1),r(),d(o.showAvatar?5:-1),r(3),P(" ",o.title," "),r(),d(o.showTitleChevron?9:-1))},dependencies:[I],styles:['@charset "UTF-8";[_nghost-%COMP%]{display:block;position:sticky;top:0;z-index:10}.ph[_ngcontent-%COMP%]{background:var(--app-surface);padding-top:calc(12px + env(safe-area-inset-top,0px));padding-right:max(16px,env(safe-area-inset-right,0px));padding-left:max(16px,env(safe-area-inset-left,0px));padding-bottom:0;border-bottom:1px solid var(--app-border);overflow:visible;position:relative;z-index:10}.ph__role-row[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:relative;padding-bottom:10px;overflow:visible}.ph__role-pill[_ngcontent-%COMP%]{display:flex;align-items:center;gap:4px;border:1.5px solid #1d4ed8;border-radius:20px;background:transparent;color:#1d4ed8;font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);padding:5px 14px;cursor:pointer;font-family:inherit;position:relative;z-index:201}.ph__role-chevron[_ngcontent-%COMP%]{flex-shrink:0}.ph__role-backdrop[_ngcontent-%COMP%]{position:fixed;inset:0;z-index:200}.ph__role-faded-bg[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000059;z-index:199}.ph__role-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;left:16px;right:16px;background:var(--app-surface);border-radius:14px;box-shadow:0 8px 32px #0000002e;z-index:201;overflow:hidden;padding:0}.ph__role-dropdown-item[_ngcontent-%COMP%]{display:block;width:100%;padding:20px 24px;text-align:left;background:none;border:none;font-size:var(--font-size-md);color:var(--app-text);font-family:inherit;cursor:pointer;font-weight:var(--font-weight-regular);transition:background .15s}.ph__role-dropdown-item[_ngcontent-%COMP%]:active, .ph__role-dropdown-item[_ngcontent-%COMP%]:hover{background:var(--app-surface-2)}.ph__role-dropdown-item--active[_ngcontent-%COMP%]{font-weight:var(--font-weight-semibold);color:#1d4ed8}.ph__role-dropdown-divider[_ngcontent-%COMP%]{margin:0;border:none;border-top:1px solid var(--app-border)}.ph__actions[_ngcontent-%COMP%]{position:absolute;right:0;display:flex;align-items:center;gap:8px}.ph__icon-btn[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;color:var(--app-text-muted);display:flex;align-items:center}.ph__avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background:#6d28d9;color:#fff;font-size:var(--font-size-sm);font-weight:var(--font-weight-bold);display:flex;align-items:center;justify-content:center;cursor:pointer;position:relative;-webkit-tap-highlight-color:transparent}.ph__avatar[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:1px;right:1px;width:9px;height:9px;background:#dc2626;border-radius:50%;border:1.5px solid #fff}.ph__title-row[_ngcontent-%COMP%]{padding:4px 0 12px}.ph__title[_ngcontent-%COMP%]{margin:0;font-size:var(--font-size-xl);font-weight:var(--font-weight-bold);color:var(--app-text);display:flex;align-items:center;gap:6px}'],changeDetection:0})};function oe(t,n){if(t&1){let e=C();h(0,"button",3),v("click",function(){_(e);let i=a(2);return m(i.searchOpen.set(!0))}),f(),h(1,"svg",4),O(2,"circle",5)(3,"path",6),u()()}if(t&2){let e=a(2);k("pt__btn--active",e.searchQuery().length>0)}}function ie(t,n){if(t&1){let e=C();h(0,"button",13),v("click",function(){_(e);let i=a(3);return m(i.clearSearch())}),f(),h(1,"svg",14),O(2,"path",15),u()()}}function re(t,n){if(t&1){let e=C();h(0,"div",2),f(),h(1,"svg",7),O(2,"circle",8)(3,"path",9),u(),z(),h(4,"input",10),Q("ngModelChange",function(i){_(e);let g=a(2);return L(g._searchModel,i)||(g._searchModel=i),m(i)}),v("ngModelChange",function(i){_(e);let g=a(2);return m(g.onSearchChange(i))}),u(),c(5,ie,3,0,"button",11),h(6,"button",12),v("click",function(){_(e);let i=a(2);return m(i.closeSearch())}),p(7,"Cancel"),u()()}if(t&2){let e=a(2);r(4),A("ngModel",e._searchModel),r(),d(e.searchQuery().length>0?5:-1)}}function ae(t,n){if(t&1&&c(0,oe,4,2,"button",1)(1,re,8,2,"div",2),t&2){let e=a();d(e.searchOpen()?1:0)}}function le(t,n){if(t&1&&p(0),t&2){let e=a(3);P(" (",e.filterCount,") ")}}function se(t,n){if(t&1){let e=C();h(0,"button",17),v("click",function(){_(e);let i=a(2);return m(i.filterClicked.emit())}),f(),h(1,"svg",14),O(2,"path",18),u(),p(3," Filters "),c(4,le,1,1),u()}if(t&2){let e=a(2);k("pt__btn--active",e.filterCount>0),r(4),d(e.filterCount>0?4:-1)}}function ce(t,n){if(t&1){let e=C();h(0,"button",17),v("click",function(){_(e);let i=a(2);return m(i.sortClicked.emit())}),f(),h(1,"svg",14),O(2,"path",19),u(),p(3),u()}if(t&2){let e=a(2);k("pt__btn--active",e.sortActive),r(3),P(" ",e.sortLabel," ")}}function de(t,n){if(t&1&&(c(0,se,5,3,"button",16),c(1,ce,4,3,"button",16)),t&2){let e=a();d(e.showFilter?0:-1),r(),d(e.showSort?1:-1)}}var j=class t{showSearch=!0;showFilter=!0;showSort=!0;filterCount=0;sortActive=!1;sortLabel="Sort by Priority";searchChanged=new x;filterClicked=new x;sortClicked=new x;searchOpen=b(!1);searchQuery=b("");_searchModel="";ngOnChanges(n){n.sortLabel}onSearchChange(n){this.searchQuery.set(n),this.searchChanged.emit(n)}clearSearch(){this._searchModel="",this.searchQuery.set(""),this.searchChanged.emit("")}closeSearch(){this.clearSearch(),this.searchOpen.set(!1)}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=M({type:t,selectors:[["app-page-toolbar"]],inputs:{showSearch:"showSearch",showFilter:"showFilter",showSort:"showSort",filterCount:"filterCount",sortActive:"sortActive",sortLabel:"sortLabel"},outputs:{searchChanged:"searchChanged",filterClicked:"filterClicked",sortClicked:"sortClicked"},features:[T],decls:3,vars:2,consts:[[1,"pt"],["aria-label","Search",1,"pt__btn","pt__btn--icon",3,"pt__btn--active"],[1,"pt__search-bar"],["aria-label","Search",1,"pt__btn","pt__btn--icon",3,"click"],["width","18","height","18","viewBox","0 0 24 24","fill","none"],["cx","11","cy","11","r","7","stroke","currentColor","stroke-width","1.8"],["d","M20 20l-3-3","stroke","currentColor","stroke-width","2","stroke-linecap","round"],["width","16","height","16","viewBox","0 0 24 24","fill","none",1,"pt__search-icon"],["cx","11","cy","11","r","7","stroke","#9ca3af","stroke-width","1.8"],["d","M20 20l-3-3","stroke","#9ca3af","stroke-width","2","stroke-linecap","round"],["type","text","placeholder","Search\u2026","autofocus","",1,"pt__search-input",3,"ngModelChange","ngModel"],["aria-label","Clear",1,"pt__search-clear"],[1,"pt__search-cancel",3,"click"],["aria-label","Clear",1,"pt__search-clear",3,"click"],["width","16","height","16","viewBox","0 0 24 24","fill","none"],["d","M18 6L6 18M6 6l12 12","stroke","#6b7280","stroke-width","2","stroke-linecap","round"],[1,"pt__btn",3,"pt__btn--active"],[1,"pt__btn",3,"click"],["d","M4 6h16M7 12h10M10 18h4","stroke","currentColor","stroke-width","1.8","stroke-linecap","round"],["d","M3 6h18M6 12h12M9 18h6","stroke","currentColor","stroke-width","1.8","stroke-linecap","round"]],template:function(e,o){e&1&&(h(0,"div",0),c(1,ae,2,1),c(2,de,2,2),u()),e&2&&(r(),d(o.showSearch?1:-1),r(),d(o.searchOpen()?-1:2))},dependencies:[R,F,N,B],styles:["[_nghost-%COMP%]{display:block}.pt[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 16px;background:var(--app-bg);overflow-x:auto;scrollbar-width:none}.pt[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.pt__btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;background:var(--app-surface);border:1.5px solid var(--app-border);border-radius:20px;padding:7px 14px;font-size:var(--font-size-md);font-weight:var(--font-weight-semibold);color:var(--app-text);white-space:nowrap;cursor:pointer;font-family:inherit;flex-shrink:0;transition:border-color .15s,color .15s,background .15s}.pt__btn[_ngcontent-%COMP%]:active{background:var(--app-surface-2)}.pt__btn--active[_ngcontent-%COMP%]{border-color:#1d4ed8;color:#1d4ed8;background:#eff6ff}.pt__btn--icon[_ngcontent-%COMP%]{padding:7px 10px}.pt__search-bar[_ngcontent-%COMP%]{flex:1;display:flex;align-items:center;gap:8px;background:var(--app-surface);border:1.5px solid var(--app-border);border-radius:10px;padding:7px 12px}.pt__search-icon[_ngcontent-%COMP%]{flex-shrink:0}.pt__search-input[_ngcontent-%COMP%]{flex:1;border:none;background:transparent;font-size:var(--font-size-md);color:var(--app-text);outline:none;font-family:inherit;min-width:0}.pt__search-input[_ngcontent-%COMP%]::placeholder{color:#9ca3af}.pt__search-clear[_ngcontent-%COMP%]{background:none;border:none;cursor:pointer;padding:0;display:flex;align-items:center}.pt__search-cancel[_ngcontent-%COMP%]{background:none;border:none;font-size:var(--font-size-md);color:#1d4ed8;font-weight:var(--font-weight-semibold);cursor:pointer;font-family:inherit;padding:0 0 0 4px;white-space:nowrap}"],changeDetection:0})};var pe=(t,n)=>n.title;function _e(t,n){if(t&1&&(l(0,"button",6)(1,"span",7),p(2),s(),l(3,"span",8),p(4),s()()),t&2){let e=n.$implicit;r(2),y(e.title),r(2),y(e.subtitle)}}var W=class t{title="Quick Actions";subtitle="Choose what you want to do next.";items=[];closed=new x;dragOffset=b(0);dragging=b(!1);startY=0;onHandlePointerDown(n){this.dragging.set(!0),this.startY=n.clientY}onPointerMove(n){if(!this.dragging())return;let e=n.clientY-this.startY;this.dragOffset.set(Math.max(0,e)),e>0&&n.preventDefault()}onPointerEnd(){if(!this.dragging())return;let n=this.dragOffset()>72;this.dragging.set(!1),this.dragOffset.set(0),n&&this.closed.emit()}onEscape(){this.closed.emit()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=M({type:t,selectors:[["app-quick-actions-sheet"]],hostBindings:function(e,o){e&1&&v("pointermove",function(g){return o.onPointerMove(g)},E)("pointerup",function(){return o.onPointerEnd()},E)("pointercancel",function(){return o.onPointerEnd()},E)("keydown.escape",function(){return o.onEscape()},E)},inputs:{title:"title",subtitle:"subtitle",items:"items"},outputs:{closed:"closed"},decls:10,vars:6,consts:[[1,"qa-backdrop",3,"click"],["role","dialog","aria-modal","true","aria-label","Quick actions",1,"qa-sheet"],[1,"qa-sheet__handle",3,"pointerdown"],[1,"qa-sheet__title"],[1,"qa-sheet__subtitle"],[1,"qa-sheet__list"],["type","button",1,"qa-sheet__item"],[1,"qa-sheet__item-title"],[1,"qa-sheet__item-subtitle"]],template:function(e,o){e&1&&(l(0,"div",0),w("click",function(){return o.closed.emit()}),s(),l(1,"section",1)(2,"div",2),w("pointerdown",function(g){return o.onHandlePointerDown(g)}),s(),l(3,"h3",3),p(4),s(),l(5,"p",4),p(6),s(),l(7,"div",5),V(8,_e,5,2,"button",6,pe),s()()),e&2&&(r(),H("transform","translateY("+o.dragOffset()+"px)"),k("qa-sheet--dragging",o.dragging()),r(3),y(o.title),r(2),y(o.subtitle),r(2),D(o.items))},dependencies:[I],styles:["[_nghost-%COMP%]{position:fixed;inset:0;z-index:420;display:flex;flex-direction:column;justify-content:flex-end}.qa-backdrop[_ngcontent-%COMP%]{position:absolute;inset:0;background:var(--app-backdrop);animation:_ngcontent-%COMP%_qaFade .16s ease}.qa-sheet[_ngcontent-%COMP%]{position:relative;z-index:1;border-radius:20px 20px 0 0;padding:12px 16px calc(16px + env(safe-area-inset-bottom,0px));background:var(--app-surface);border-top:1px solid var(--app-border);transition:transform .18s cubic-bezier(.32,.72,0,1);will-change:transform}.qa-sheet--dragging[_ngcontent-%COMP%]{transition:none}.qa-sheet__handle[_ngcontent-%COMP%]{width:36px;height:4px;border-radius:2px;background:var(--app-border);margin:0 auto 10px;touch-action:none;cursor:grab}.qa-sheet__title[_ngcontent-%COMP%]{margin:0;font-size:18px;font-weight:700;color:var(--app-text)}.qa-sheet__subtitle[_ngcontent-%COMP%]{margin:4px 0 14px;font-size:13px;color:var(--app-text-muted)}.qa-sheet__list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:8px}.qa-sheet__item[_ngcontent-%COMP%]{border:1px solid var(--app-border);border-radius:12px;background:var(--app-surface-2);color:var(--app-text);text-align:left;padding:12px;display:flex;flex-direction:column;gap:4px;cursor:pointer;font-family:inherit;transition:transform .12s ease,border-color .12s ease}.qa-sheet__item[_ngcontent-%COMP%]:active{transform:scale(.99);border-color:var(--app-primary)}.qa-sheet__item-title[_ngcontent-%COMP%]{font-size:15px;font-weight:600}.qa-sheet__item-subtitle[_ngcontent-%COMP%]{font-size:12px;color:var(--app-text-muted)}@keyframes _ngcontent-%COMP%_qaFade{0%{opacity:0}to{opacity:1}}"],changeDetection:0})};export{G as a,j as b,W as c};
